<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polis Theme Preview</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link id="theme-css" rel="stylesheet" href="vice/vice.css">
    <style>
        /* Preview controls - scoped to avoid theme interference */
        #preview-bar {
            all: initial;
            display: flex !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            z-index: 9999 !important;
            font-family: 'JetBrains Mono', monospace !important;
            background: rgba(10, 10, 15, 0.95) !important;
            backdrop-filter: blur(8px) !important;
            border-bottom: 1px solid #333 !important;
            padding: 0.75rem 1.5rem !important;
            align-items: center !important;
            gap: 0.75rem !important;
            flex-wrap: wrap !important;
        }
        #preview-bar .bar-title {
            font-family: 'Orbitron', monospace !important;
            font-size: 0.85rem !important;
            color: #00d4ff !important;
            letter-spacing: 0.1em !important;
            margin-right: 1rem !important;
            flex-shrink: 0 !important;
        }
        #preview-bar .tab-group {
            display: flex !important;
            gap: 0.2rem !important;
            flex-wrap: wrap !important;
        }
        #preview-bar .tab {
            all: initial !important;
            display: inline-block !important;
            padding: 0.35rem 0.75rem !important;
            border: 1px solid #444 !important;
            background: transparent !important;
            color: #888 !important;
            font-family: 'JetBrains Mono', monospace !important;
            font-size: 0.72rem !important;
            cursor: pointer !important;
            transition: all 0.15s !important;
            white-space: nowrap !important;
        }
        #preview-bar .tab:hover {
            color: #ccc !important;
            border-color: #666 !important;
        }
        #preview-bar .tab.active {
            color: #00d4ff !important;
            border-color: #00d4ff !important;
            background: rgba(0, 212, 255, 0.1) !important;
        }
        #preview-content {
            padding-top: 52px; /* space for fixed bar */
        }
    </style>
</head>
<body>
    <!-- Fixed preview bar -->
    <div id="preview-bar">
        <span class="bar-title">POLIS THEMES</span>
        <div class="tab-group">
            <button class="tab active" onclick="switchView('vice','index',this)">Vice</button>
            <button class="tab" onclick="switchView('vice','post',this)">Vice: Post</button>
            <button class="tab" onclick="switchView('especial','index',this)">Especial</button>
            <button class="tab" onclick="switchView('especial','post',this)">Especial: Post</button>
            <button class="tab" onclick="switchView('especial-light','index',this)">Especial Light</button>
            <button class="tab" onclick="switchView('especial-light','post',this)">Especial Light: Post</button>
            <button class="tab" onclick="switchView('sols','index',this)">Sols</button>
            <button class="tab" onclick="switchView('sols','post',this)">Sols: Post</button>
            <button class="tab" onclick="switchView('turbo','index',this)">Turbo</button>
            <button class="tab" onclick="switchView('turbo','post',this)">Turbo: Post</button>
            <button class="tab" onclick="switchView('zane','index',this)">Zane</button>
            <button class="tab" onclick="switchView('zane','post',this)">Zane: Post</button>
        </div>
    </div>

    <!-- Theme content renders here -->
    <div id="preview-content"></div>

    <script>
    const cssPaths = {
        vice: 'vice/vice.css',
        especial: 'especial/especial.css',
        'especial-light': 'especial-light/especial-light.css',
        sols: 'sols/sols.css',
        turbo: 'turbo/turbo.css',
        zane: 'zane/zane.css'
    };

    const indexHTML = `
    <section class="hero">
        <h1 class="hero-title">vdibart.polis.pub</h1>
    </section>

    <section class="about">
        <div class="container">
            <div class="about-content">
                <p>Welcome to my polis site. This site runs on <em>polis</em>&mdash;signed markdown on your own domain. No platform, no middleman, just you and your words.</p>
            </div>
        </div>
    </section>

    <section class="recent-posts">
        <div class="container">
            <h2 class="section-title">Recent Posts</h2>
            <div class="post-list">
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-02-10</span>
                    <span class="post-title">On the Architecture of Trust <span class="post-comments">(3 comments)</span></span>
                </a>
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-02-03</span>
                    <span class="post-title">Decentralized Identity and the Open Web <span class="post-comments">(7 comments)</span></span>
                </a>
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-01-28</span>
                    <span class="post-title">Why I Left the Platform <span class="post-comments">(12 comments)</span></span>
                </a>
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-01-15</span>
                    <span class="post-title">Cryptographic Signatures for Everyone <span class="post-comments">(2 comments)</span></span>
                </a>
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-01-08</span>
                    <span class="post-title">Building in Public, Owning Your Words <span class="post-comments">(5 comments)</span></span>
                </a>
            </div>
        </div>
    </section>

    <section class="recent-comments">
        <div class="container">
            <h2 class="section-title">Recent Comments</h2>
            <div class="comment-list">
                <a href="#" class="comment-item" onclick="return false">
                    <span class="comment-meta">
                        <span class="comment-author">mara.dev</span>
                        <span class="comment-date">2026-02-09</span>
                    </span>
                    <span class="comment-preview">This resonates deeply. The web we lost was never about platforms...</span>
                </a>
                <a href="#" class="comment-item" onclick="return false">
                    <span class="comment-meta">
                        <span class="comment-author">kj@lightcone.pub</span>
                        <span class="comment-date">2026-02-07</span>
                    </span>
                    <span class="comment-preview">Strong disagree on the federation point, but the signature model is elegant.</span>
                </a>
                <a href="#" class="comment-item" onclick="return false">
                    <span class="comment-meta">
                        <span class="comment-author">sol.writer</span>
                        <span class="comment-date">2026-02-04</span>
                    </span>
                    <span class="comment-preview">Finally someone articulating what we've all been feeling about content ownership.</span>
                </a>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <a href="#" class="footer-logo" onclick="return false">POLIS<span class="footer-tagline">Your content, free from platform control</span></a>
    </footer>`;

    const postHTML = `
    <nav class="site-nav">
        <a href="#" class="nav-home" onclick="return false">&larr; Home</a>
    </nav>

    <article class="post-content">
        <div class="container">
            <div class="post-header">
                <div class="post-date">February 10, 2026</div>
                <div class="post-meta">
                    <span class="meta-label">Signed by</span>
                    <span class="meta-value">vdibart</span>
                    <span class="meta-sep">|</span>
                    <span class="meta-label">Version</span>
                    <span class="meta-value">a3f8c2d</span>
                </div>
            </div>
            <div class="content-body">
                <h2>The Promise We Made to Ourselves</h2>
                <p>When we first started building on the web, there was an implicit promise: <strong>your words belong to you</strong>. Your domain, your content, your audience. Somewhere along the way, we traded that for convenience.</p>
                <p>The platform era gave us reach but took our sovereignty. Every post lives on rented land. Every follower is a hostage to an algorithm you don't control.</p>
                <blockquote>The best time to reclaim your words was ten years ago. The second best time is now.</blockquote>
                <h3>What Cryptographic Signing Changes</h3>
                <p>When you sign your content with Ed25519 keys, you create something that didn't exist before: <strong>provable authorship without a platform</strong>. No one can forge your posts. No one can alter them without detection. Your domain becomes your identity.</p>
                <p>This isn't just a technical detail. It's a <a href="#">philosophical stance</a>. It says: I trust math more than terms of service.</p>
                <pre><code># Sign and publish from your own domain
polis post "On the Architecture of Trust"
# Your words, your keys, your domain</code></pre>
                <p>The tools are getting simpler. The barriers are falling. The question is no longer <em>can you own your content</em> but <em>will you</em>.</p>
                <h3>A Network of Domains</h3>
                <p>Imagine a web where every author is a node. Where following someone means subscribing to <em>their domain</em>, not a platform's feed. Where comments are cryptographically signed and published from the commenter's own site.</p>
                <ul>
                    <li>No algorithm decides who sees your words</li>
                    <li>No platform can deplatform you</li>
                    <li>No terms of service can change under your feet</li>
                </ul>
                <p>This is what polis builds toward. Not a replacement for social media, but a <strong>foundation beneath it</strong>.</p>
            </div>
        </div>
    </article>

    <section class="comments">
        <div class="container">
            <div class="comments-header">
                <h2 class="comments-title">Comments (3)</h2>
                <details class="cta-inline">
                    <summary class="cta-link">Learn how&hellip;</summary>
                    <div class="cta-content">
                        <p class="cta-text">Polis comments are cryptographically signed and published from your own site. No account needed&mdash;just your words and your domain.</p>
                        <div class="cta-code">
                            <pre><code><span class="code-comment"># Clone the repo and set up your site</span>
git clone https://github.com/vdibart/polis-cli
mkdir ~/my-polis-site && cd ~/my-polis-site
./polis init

<span class="code-comment"># Create a comment (creates a signed .md file)</span>
./polis comment https://vdibart.polis.pub/posts/2026/02/on-the-architecture-of-trust

<span class="code-comment"># Deploy to your domain</span></code></pre>
                        </div>
                        <a href="#" class="cta-link" onclick="return false">Get started with Polis &rarr;</a>
                    </div>
                </details>
            </div>
            <div class="comments-list">
                <div class="comment">
                    <div class="comment-header">
                        <a href="#" class="comment-author" onclick="return false">mara.dev</a>
                        <span class="comment-date">Feb 9, 2026</span>
                    </div>
                    <div class="comment-body">
                        <p>This resonates deeply. The web we lost was never about platforms or protocols&mdash;it was about the <strong>relationship between author and reader</strong>. Polis gets that right.</p>
                    </div>
                </div>
                <div class="comment">
                    <div class="comment-header">
                        <a href="#" class="comment-author" onclick="return false">kj@lightcone.pub</a>
                        <span class="comment-date">Feb 7, 2026</span>
                    </div>
                    <div class="comment-body">
                        <p>Strong disagree on the federation point. ActivityPub solved real problems. But the signature model here is elegant&mdash;provable authorship without a central registry is the right primitive.</p>
                    </div>
                </div>
                <div class="comment">
                    <div class="comment-header">
                        <a href="#" class="comment-author" onclick="return false">sol.writer</a>
                        <span class="comment-date">Feb 4, 2026</span>
                    </div>
                    <div class="comment-body">
                        <p>Finally someone articulating what we've all been feeling. Bookmarked and sharing widely.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="post-footer-nav">
        <div class="container">
            <h2 class="section-title">More from this site</h2>
            <div class="post-list">
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-02-03</span>
                    <span class="post-title">Decentralized Identity and the Open Web <span class="post-comments">(7 comments)</span></span>
                </a>
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-01-28</span>
                    <span class="post-title">Why I Left the Platform <span class="post-comments">(12 comments)</span></span>
                </a>
                <a href="#" class="post-item" onclick="return false">
                    <span class="post-date">2026-01-15</span>
                    <span class="post-title">Cryptographic Signatures for Everyone <span class="post-comments">(2 comments)</span></span>
                </a>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <a href="#" class="footer-logo" onclick="return false">POLIS<span class="footer-tagline">Your content, free from platform control</span></a>
    </footer>`;

    function switchView(theme, page, btn) {
        // Update CSS
        document.getElementById('theme-css').href = cssPaths[theme];

        // Update content
        document.getElementById('preview-content').innerHTML = page === 'post' ? postHTML : indexHTML;

        // Update active tab
        document.querySelectorAll('#preview-bar .tab').forEach(t => t.classList.remove('active'));
        btn.classList.add('active');

        // Scroll to top
        window.scrollTo(0, 0);
    }

    // Initial render
    document.getElementById('preview-content').innerHTML = indexHTML;
    </script>
</body>
</html>
